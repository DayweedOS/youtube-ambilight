/* General */

html[dark="true"],
html[dark="true"] body {
    background: #000 !important;
}

/* Cosmetics - Transparent elements */

ytd-app[is-watch-page],
body.at-top ytd-app[is-watch-page] ytd-masthead,
ytd-app[is-watch-page] ytd-watch,
ytd-app[is-watch-page] ytd-watch-flexy,
ytd-app[is-watch-page] #player-theater-container,
ytd-app[is-watch-page] #columns.ytd-watch-flexy,
body.at-top ytd-app[is-watch-page] #container.ytd-searchbox,
body.at-top ytd-app[is-watch-page] #search-icon-legacy,
ytd-app[is-watch-page] #movie_player,
ytd-app[is-watch-page] #player-container {
    background: none !important;
}
ytd-app[is-watch-page] ytd-masthead {
    transition: background-color .25s;
}
body.not-at-top ytd-app[is-watch-page] ytd-masthead,
ytd-app[is-watch-page] ytd-masthead:hover {
    background: rgb(19,19,19) !important;
}

/* Chat */

yt-live-chat-renderer {
    background: none !important;
}
#message.yt-live-chat-text-message-renderer {
    color: #fff;
}
#author-name.yt-live-chat-author-chip {
    color: #bbb;
}


/* Cosmetics - Search */

ytd-app[is-watch-page] #search-form * {
    border-color: rgba(255,255,255,.6) !important;
    color: rgba(255,255,255,1) !important;
    fill: rgba(255,255,255,1) !important;
}

ytd-app[is-watch-page] #search::-webkit-input-placeholder {
    color: rgba(255,255,255,.6) !important;
}

ytd-app[is-watch-page] #search-form {
    transition: opacity .25s;
}
body.at-top ytd-app[is-watch-page] #search-form {
    opacity: .25;
}
ytd-app[is-watch-page] ytd-masthead:hover #search-form {
    opacity: 1;
}

/* Cosmetics - Text visibility */

ytd-app[is-watch-page] ytd-watch #top > #player {
    z-index: 2;
}
ytd-app[is-watch-page] #top > #container > *,
ytd-app[is-watch-page] #primary-inner > *:not(#player),
ytd-app[is-watch-page] #secondary {
    filter: drop-shadow(0 0 3px rgba(0,0,0,.66)) !important;
}

html[dark="true"] ytd-app[is-watch-page] #playlist yt-icon {
    fill: rgba(255, 255, 255, 0.882) !important;
}
html[dark="true"] ytd-app[is-watch-page] #playlist a,
html[dark="true"] ytd-app[is-watch-page] #index.ytd-playlist-panel-video-renderer,
html[dark="true"] ytd-app[is-watch-page] span.yt-view-count-renderer {
    color: rgba(255, 255, 255, 0.882) !important;
}

ytd-app[is-watch-page] .header.ytd-playlist-panel-renderer,
ytd-app[is-watch-page] .playlist-items.ytd-playlist-panel-renderer {
    background: none !important;
}

/* Ambilight */

.ambilight,
.ambilight__container,
.ambilight__canvas-list,
.ambilight__canvas-container,
.ambilight__canvas,
.ambilight__shadow,
.ambilight__shadow-fade,
.ambilight__shadow-center {
    position: absolute;
    width: 100%;
    height: 100%;
}

.ambilight {
    height: 200%;
    overflow: hidden;
    pointer-events: none;
}

.ambilight::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.04;
    mix-blend-mode: overlay;
    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTEyLTExVDE5OjMxOjAxKzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTEyLTExVDE5OjMxOjAxKzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0xMi0xMVQxOTozMTowMSswMTowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MDA0MDYzNC04YzA0LWI0NDctOTFjMS1lOWZhYTM5YTZlZmUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphZGU5ODhkZC03ZDFlLWQ5NDEtODQ3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');
    /* animation: noise 0.05s linear infinite; */
}

@keyframes noise {
    0%,
    29.99% {
        background-position: 0px 0px;
    }
    30%,
    69.99% {
        background-position: 70px 20px;
    }
    70%,
    100% {
        background-position: -20px 100px;
    }
}

.ambilight__container {
    transition: opacity .5s;
    opacity: 0;
}

.ambilight__canvas {
    background: #000;
    /* image-rendering: pixelated; */
}

.ambilight__shadow {
    mix-blend-mode: multiply;
}

/* Immersive mode */

body.immersive-mode::-webkit-scrollbar {
  width: 0;
}

ytd-app[is-watch-page] #secondary,
ytd-app[is-watch-page] #masthead-container {
  transition: opacity .25s ease-out;
  will-change: opacity;
  transition-delay: 0s;
}
body.immersive-mode.at-top ytd-app[is-watch-page] #secondary:not(:hover),
body.immersive-mode.at-top ytd-app[is-watch-page] #masthead-container:not(:hover) {
  opacity: 0;
  transition-delay: 2s;
}

body.immersive-mode ytd-app[is-watch-page] #primary-inner > *:not(#player) {
  transition: opacity .25s ease-out;
  will-change: opacity;
}
body.immersive-mode.at-top ytd-app[is-watch-page] #primary-inner > *:not(#player) {
    opacity: 0;
    transition-delay: 2s;
}

body.immersive-mode.at-top ytd-app[is-watch-page] #primary-inner > *:not(#player):hover {
  opacity: 1;
  transition-delay: 0s;
}

/* Immersive mode button */

body .toggle-auto-hide-btn {
  position: relative;
  top: -12px;
  line-height: 1px;
  text-align: center;
  font-size: 17px;
  color: #eee;
  cursor: pointer;
  transition: color .2s;
}
.toggle-auto-hide-btn::before {
  content: 'IM';
}
body .toggle-auto-hide-btn:hover {
  color: #fff;
  text-shadow: #000 0px 0px 2px;
}
body.immersive-mode .toggle-auto-hide-btn {
  font-weight: bold;
}

/* Settings */
.ytp-ambilight-settings-menu {
  width: 229px;
  right: 12px;
  bottom: 49px;
  z-index: 71;
  will-change: width,height;
  pointer-events: none;
  opacity: 0;
  transition: opacity .25s;
}
.ytp-ambilight-settings-menu.is-visible {
  opacity: 1;
  pointer-events: all;
}
.ytp-ambilight-settings-menu .ytp-panel {
  position: relative;
}
.ytp-ambilight-settings-button {
  position: relative;
}
.ytp-ambilight-settings-button::after {
  content: '';
  position: absolute;
  top: 10px;
  right: 5px;
  height: 9px;
  width: 13px;
  background-color: #3ea6ff;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZDQTYxN0E5RkNCMTExRThBMEU4QUNFNjNEOUFBNDhFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZDQTYxN0FBRkNCMTExRThBMEU4QUNFNjNEOUFBNDhFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkNBNjE3QTdGQ0IxMTFFOEEwRThBQ0U2M0Q5QUE0OEUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkNBNjE3QThGQ0IxMTFFOEEwRThBQ0U2M0Q5QUE0OEUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7180+BAAAAVElEQVR42mL8//8/A6mAiYEMgE3TfyhG5qMAFnQNjIyM08EMiLsZsdnEiOYnZIUwNoZmFhzOI81PIOfBnIjLnyzoGoBUFpQNE4YbAPMKIznxBBBgAAy8HWz0TJJgAAAAAElFTkSuQmCC');
  border-radius: 1px;
  line-height: normal;
  font-size: 7px;
  text-align: center;
  text-shadow: rgb(0,0,0) 1px 1px 1px;
}

.ytp-ambilight-settings-button svg {
  transition: transform .1s cubic-bezier(0.4,0.0,1,1);
}
.ytp-ambilight-settings-button[aria-expanded="true"] svg {
  transform: rotateZ(30deg);
}

.ytp-chrome-bottom {
  width: calc(100% - 24px) !important;
}

/* Settings - sliders */

.ytp-menuitem-range {
  display: table-row;
  height: 6px;
}
.ytp-menuitem-range input[type="range"] {
  position: absolute;
  display: table-row;
  -webkit-appearance: none;
  background: none;
  cursor: pointer;
  width: calc(100% - 28px);
  margin: 0 14px;
  outline: 0;
}
.ytp-menuitem-range input[type="range"]::-webkit-slider-runnable-track {
  -webkit-appearance: none;
  background: linear-gradient(transparent 42%, rgba(255,255,255,0.3) 43%, rgba(255,255,255,0.3) 57%, transparent 58%);
  height: 21px;
  margin: -10px 0;
  outline: none;
}
.ytp-menuitem-range input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  height: 17px;
  width: 17px;
  margin-top: 2px;
  border-radius: 50%;
  background: #bdbdbd;
  box-shadow: 0 1px 5px 0 rgba(0,0,0,0.6);
  transition: all .15s;
}
.ytp-menuitem-range input[type="range"]:hover::-webkit-slider-thumb {
  background: #fff;
}

.ytp-menuitem[role="menuitemrange"]:hover + .ytp-menuitem-range::before {
  content: '';
  position: absolute;
  left: 0;
  width: 100%;
  height: 6px;
  background-color: rgba(255,255,255,.1);
  pointer-events: none;
}